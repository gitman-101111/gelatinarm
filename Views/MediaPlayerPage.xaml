<?xml version="1.0" encoding="utf-8"?>

<views:BasePage
    x:Class="Gelatinarm.Views.MediaPlayerPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:views="using:Gelatinarm.Views"
    xmlns:converters="using:Gelatinarm.Converters"
    xmlns:visibility="using:Gelatinarm.Converters.Visibility"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="Black"
    BorderBrush="Transparent"
    BorderThickness="0"
    IsTabStop="False"
    AllowFocusOnInteraction="False">

    <Page.Resources>
        <!-- Converters -->
        <visibility:VisibilityConverter x:Key="BooleanToVisibilityConverter" ConversionType="Boolean" />
        <converters:MediaTitleConverter x:Key="MediaTitleConverter" />
        <converters:EpisodeInfoConverter x:Key="EpisodeInfoConverter" />
        <converters:PlayPauseIconConverter x:Key="PlayPauseIconConverter" />
        <converters:EpisodeTypeToVisibilityConverter x:Key="EpisodeTypeToVisibilityConverter" />
        <converters:FavoriteIconConverter x:Key="FavoriteIconConverter" />
        <converters:PositionToMarginConverter x:Key="PositionToMarginConverter" />
        <converters:PercentageToStarGridLengthConverter x:Key="PercentageToStarGridLengthConverter" />
        <converters:PercentageToComplementaryStarGridLengthConverter
            x:Key="PercentageToComplementaryStarGridLengthConverter" />

        <!-- MediaPlayerElement has UseSystemFocusVisuals="False" to prevent focus rectangles -->

        <!-- Custom style for MediaTransportControls with proper margins -->


        <!-- Audio Selection Flyout -->
        <Flyout x:Name="AudioFlyout" Placement="Top">
            <ListView x:Name="AudioList"
                      ItemsSource="{Binding AudioTracks}"
                      SelectedItem="{Binding SelectedAudioTrack, Mode=OneWay}"
                      SelectionMode="Single"
                      IsItemClickEnabled="True"
                      ItemClick="AudioList_ItemClick">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding DisplayName}" />
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </Flyout>

        <!-- Subtitles Selection Flyout -->
        <Flyout x:Name="SubtitlesFlyout" Placement="Top">
            <ListView x:Name="SubtitlesList"
                      ItemsSource="{Binding SubtitleTracks}"
                      SelectedItem="{Binding SelectedSubtitle, Mode=OneWay}"
                      SelectionMode="Single"
                      IsItemClickEnabled="True"
                      ItemClick="SubtitlesList_ItemClick">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding DisplayTitle}" />
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </Flyout>

        <!-- Quality Selection Flyout -->
        <Flyout x:Name="QualityFlyout" Placement="Top">
            <ListView x:Name="QualityList"
                      ItemsSource="{Binding QualityOptions}"
                      SelectedItem="{Binding SelectedQuality, Mode=OneWay}"
                      SelectionMode="Single"
                      IsItemClickEnabled="True"
                      ItemClick="QualityList_ItemClick">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding DisplayName}" />
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </Flyout>

    </Page.Resources>

    <Grid x:Name="RootGrid"
          Margin="0" Padding="0">

        <!-- Removed FocusTarget - MediaPlayerElement will handle focus directly -->

        <!-- Audio visualization removed - using MusicPlayer exclusively for music -->

        <MediaPlayerElement x:Name="MediaPlayer"
                            AreTransportControlsEnabled="False"
                            AutoPlay="True"
                            Stretch="Uniform"
                            Margin="0"
                            IsTabStop="True"
                            AllowFocusOnInteraction="False"
                            UseSystemFocusVisuals="False"
                            XYFocusUp="{x:Bind MediaPlayer}" />

        <!-- Buffering Indicator -->
        <Grid x:Name="BufferingIndicator"
              Visibility="{Binding IsBuffering, Converter={StaticResource BooleanToVisibilityConverter}}"
              Background="#AA000000"
              IsHitTestVisible="False">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <ProgressRing IsActive="True"
                              Width="60"
                              Height="60"
                              Foreground="White" />
                <TextBlock x:Name="BufferingText"
                           Text="Buffering..."
                           Foreground="White"
                           FontSize="16"
                           Margin="0,12,0,0"
                           HorizontalAlignment="Center" />
            </StackPanel>
        </Grid>

        <!-- Custom Media Controls -->
        <Grid x:Name="CustomControlsOverlay"
              Visibility="{Binding AreControlsVisible, Converter={StaticResource BooleanToVisibilityConverter}}">

            <!-- Top and Bottom Gradients for better visibility (only shown with controls) -->
            <Grid IsHitTestVisible="False">
                <!-- Top Gradient -->
                <Border Height="200"
                        VerticalAlignment="Top">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                            <GradientStop Color="#CC000000" Offset="0" />
                            <GradientStop Color="#00000000" Offset="1" />
                        </LinearGradientBrush>
                    </Border.Background>
                </Border>

                <!-- Bottom Gradient -->
                <Border Height="300"
                        VerticalAlignment="Bottom">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0.5,1" EndPoint="0.5,0">
                            <GradientStop Color="#CC000000" Offset="0" />
                            <GradientStop Color="#00000000" Offset="1" />
                        </LinearGradientBrush>
                    </Border.Background>
                </Border>
            </Grid>

            <!-- Bottom Controls Container -->
            <Grid VerticalAlignment="Bottom"
                  HorizontalAlignment="Stretch"
                  Padding="48,0,48,24">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" /> <!-- Main controls -->
                    <RowDefinition Height="24" /> <!-- Spacing -->
                    <RowDefinition Height="Auto" /> <!-- Progress bar -->
                    <RowDefinition Height="12" /> <!-- Bottom spacing -->
                </Grid.RowDefinitions>

                <!-- Main Control Buttons -->
                <Grid x:Name="ControlButtonsGrid" Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" /> <!-- Left controls -->
                        <ColumnDefinition Width="*" /> <!-- Center space -->
                        <ColumnDefinition Width="Auto" /> <!-- Right controls -->
                    </Grid.ColumnDefinitions>

                    <!-- Left Controls Group -->
                    <StackPanel Grid.Column="0"
                                Orientation="Horizontal"
                                HorizontalAlignment="Left"
                                Spacing="8">

                        <!-- Skip Back 10s -->
                        <Button x:Name="CustomSkipBackButton"
                                Width="40" Height="40"
                                Background="Transparent"
                                BorderThickness="0"
                                Command="{Binding SkipBackwardCommand}"
                                IsTabStop="True"
                                UseSystemFocusVisuals="True">
                            <FontIcon Glyph="&#xED3C;" FontSize="20" Foreground="White" />
                        </Button>

                        <!-- Play/Pause Button -->
                        <Button x:Name="CustomPlayPauseButton"
                                Width="40" Height="40"
                                Background="Transparent"
                                BorderThickness="0"
                                Command="{Binding PlayPauseCommand}"
                                IsTabStop="True"
                                UseSystemFocusVisuals="True">
                            <FontIcon x:Name="PlayPauseIcon"
                                      Glyph="{Binding IsPlaying, Converter={StaticResource PlayPauseIconConverter}}"
                                      FontSize="20"
                                      Foreground="White" />
                        </Button>

                        <!-- Skip Forward 30s -->
                        <Button x:Name="CustomSkipForwardButton"
                                Width="40" Height="40"
                                Background="Transparent"
                                BorderThickness="0"
                                Command="{Binding SkipForwardCommand}"
                                IsTabStop="True"
                                UseSystemFocusVisuals="True">
                            <FontIcon Glyph="&#xED3D;" FontSize="20" Foreground="White" />
                        </Button>
                    </StackPanel>

                    <!-- Right Controls Group -->
                    <StackPanel Grid.Column="2"
                                Orientation="Horizontal"
                                HorizontalAlignment="Right"
                                Spacing="8">
                        <!-- Next Episode Button -->
                        <Button x:Name="NextEpisodeButton"
                                Background="Transparent"
                                BorderThickness="0"
                                Command="{Binding PlayNextEpisodeCommand}"
                                IsTabStop="True"
                                UseSystemFocusVisuals="True"
                                Visibility="{Binding IsNextEpisodeAvailable, Converter={StaticResource BooleanToVisibilityConverter}}"
                                Padding="12,8"
                                Margin="0,0,8,0">
                            <StackPanel Orientation="Horizontal" Spacing="4">
                                <TextBlock Text="Next Episode" Foreground="White" FontSize="14" />
                                <FontIcon Glyph="&#xE76C;" FontSize="16" Foreground="White" />
                            </StackPanel>
                        </Button>

                        <!-- Episodes Button -->
                        <Button x:Name="EpisodesButton"
                                Background="Transparent"
                                BorderThickness="0"
                                Click="EpisodesButton_Click"
                                IsTabStop="True"
                                UseSystemFocusVisuals="True"
                                Visibility="{Binding CurrentItem.Type, Converter={StaticResource EpisodeTypeToVisibilityConverter}}"
                                Padding="12,8"
                                Margin="0,0,8,0">
                            <StackPanel Orientation="Horizontal" Spacing="4">
                                <FontIcon Glyph="&#xE8FD;" FontSize="16" Foreground="White" />
                                <TextBlock Text="Episodes" Foreground="White" FontSize="14" />
                            </StackPanel>
                        </Button>

                        <!-- Separator for TV show controls -->
                        <Rectangle x:Name="TVControlsSeparator"
                                   Width="1"
                                   Height="24"
                                   Fill="White"
                                   Opacity="0.3"
                                   VerticalAlignment="Center"
                                   Margin="4,0"
                                   Visibility="{Binding CurrentItem.Type, Converter={StaticResource EpisodeTypeToVisibilityConverter}}" />

                        <!-- Secondary Controls -->
                        <Button x:Name="SubtitlesButton"
                                Width="40" Height="40"
                                Background="Transparent"
                                BorderThickness="0"
                                Click="SubtitlesButton_Click"
                                IsTabStop="True"
                                UseSystemFocusVisuals="True"
                                Margin="4,0"
                                Visibility="{Binding HasSubtitleTracks, Converter={StaticResource BooleanToVisibilityConverter}}">
                            <FontIcon Glyph="&#xE8D2;"
                                      FontFamily="Segoe MDL2 Assets"
                                      FontSize="20"
                                      Foreground="White" />
                        </Button>

                        <Button x:Name="AudioButton"
                                Width="40" Height="40"
                                Background="Transparent"
                                BorderThickness="0"
                                Click="AudioButton_Click"
                                IsTabStop="True"
                                UseSystemFocusVisuals="True"
                                Margin="4,0"
                                Visibility="{Binding HasMultipleAudioTracks, Converter={StaticResource BooleanToVisibilityConverter}}">
                            <FontIcon Glyph="&#xE767;"
                                      FontFamily="Segoe MDL2 Assets"
                                      FontSize="20"
                                      Foreground="White" />
                        </Button>

                        <Button x:Name="StatsButton"
                                Width="40" Height="40"
                                Background="Transparent"
                                BorderThickness="0"
                                Command="{Binding ToggleStatsCommand}"
                                IsTabStop="True"
                                UseSystemFocusVisuals="True"
                                Margin="4,0">
                            <FontIcon Glyph="&#xE9D9;" FontSize="20" Foreground="White" />
                        </Button>

                        <Button x:Name="FavoriteButton"
                                Width="40" Height="40"
                                Background="Transparent"
                                BorderThickness="0"
                                Click="FavoriteButton_Click"
                                IsTabStop="True"
                                UseSystemFocusVisuals="True"
                                Margin="4,0">
                            <FontIcon x:Name="FavoriteIcon"
                                      Glyph="{Binding CurrentItem.UserData.IsFavorite, Converter={StaticResource FavoriteIconConverter}}"
                                      FontSize="20"
                                      Foreground="White" />
                        </Button>
                    </StackPanel>
                </Grid>

                <!-- Progress Bar Section -->
                <Grid Grid.Row="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="16" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="16" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <!-- Current Time -->
                    <TextBlock x:Name="CurrentTimeText"
                               Grid.Column="0"
                               Text="{Binding CurrentTimeText}"
                               Foreground="White"
                               FontSize="14"
                               VerticalAlignment="Center"
                               MinWidth="50"
                               TextAlignment="Right" />

                    <!-- Custom Seek Bar -->
                    <Grid Grid.Column="2" Height="8" VerticalAlignment="Center">
                        <!-- Track Background -->
                        <Rectangle Fill="White"
                                   Opacity="0.2"
                                   Height="4" />

                        <!-- Played Progress -->
                        <Grid HorizontalAlignment="Stretch">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition
                                    Width="{Binding PositionPercentage, Converter={StaticResource PercentageToStarGridLengthConverter}}" />
                                <ColumnDefinition
                                    Width="{Binding PositionPercentage, Converter={StaticResource PercentageToComplementaryStarGridLengthConverter}}" />
                            </Grid.ColumnDefinitions>
                            <Rectangle Grid.Column="0"
                                       Fill="{ThemeResource SystemAccentColor}"
                                       Height="4" />
                        </Grid>

                        <!-- Seek Thumb -->
                        <Ellipse x:Name="SeekThumb"
                                 Width="12"
                                 Height="12"
                                 Fill="White"
                                 HorizontalAlignment="Left"
                                 Visibility="Collapsed"
                                 Margin="{Binding Position, Converter={StaticResource PositionToMarginConverter}}" />

                        <!-- Invisible Slider for interaction -->
                        <Slider x:Name="SeekSlider"
                                Minimum="0"
                                Maximum="{Binding Duration.TotalSeconds}"
                                Value="{Binding Position.TotalSeconds, Mode=TwoWay}"
                                Background="Transparent"
                                Foreground="Transparent"
                                Height="20"
                                VerticalAlignment="Center"
                                ManipulationStarted="SeekSlider_ManipulationStarted"
                                IsTabStop="False"
                                UseSystemFocusVisuals="False">
                            <Slider.Template>
                                <ControlTemplate TargetType="Slider">
                                    <Grid Background="Transparent">
                                        <Grid x:Name="SliderContainer" Background="Transparent">
                                            <Grid x:Name="HorizontalTemplate">
                                                <Rectangle Height="20" Fill="Transparent" />
                                                <Thumb x:Name="HorizontalThumb" Height="20" Width="20" Opacity="0" />
                                            </Grid>
                                        </Grid>
                                    </Grid>
                                </ControlTemplate>
                            </Slider.Template>
                        </Slider>
                    </Grid>

                    <!-- Total Duration and Ends At -->
                    <Grid Grid.Column="4">
                        <TextBlock x:Name="TotalTimeText"
                                   Text="{Binding DurationText}"
                                   Foreground="White"
                                   FontSize="14"
                                   VerticalAlignment="Center"
                                   MinWidth="50"
                                   TextAlignment="Left" />
                        <TextBlock x:Name="EndsAtTimeText"
                                   Text="{Binding EndsAtTimeText}"
                                   Foreground="White"
                                   Opacity="0.6"
                                   FontSize="11"
                                   VerticalAlignment="Bottom"
                                   Margin="0,0,0,-16"
                                   Visibility="{Binding IsEndsAtTimeVisible, Converter={StaticResource BooleanToVisibilityConverter}}" />
                    </Grid>
                </Grid>
            </Grid>
        </Grid>

        <!-- Overlay for title and info -->
        <Grid x:Name="InfoOverlay"
              VerticalAlignment="Top"
              HorizontalAlignment="Stretch"
              Margin="0"
              Visibility="{Binding AreControlsVisible, Converter={StaticResource BooleanToVisibilityConverter}}">
            <Border HorizontalAlignment="Stretch"
                    Padding="48,24">
                <TextBlock x:Name="MediaInfoText"
                           FontSize="18"
                           Foreground="White">
                    <TextBlock.Inlines>
                        <Run x:Name="ShowTitleRun" FontWeight="Bold"
                             Text="{Binding CurrentItem, Converter={StaticResource MediaTitleConverter}}" />
                        <Run x:Name="EpisodeInfoRun" FontWeight="Normal"
                             Text="{Binding CurrentItem, Converter={StaticResource EpisodeInfoConverter}}" />
                    </TextBlock.Inlines>
                </TextBlock>
            </Border>
        </Grid>

        <!-- Skip Buttons - Shows independently of transport controls -->
        <Grid HorizontalAlignment="Stretch"
              VerticalAlignment="Bottom">
            <!-- Skip buttons on the right - Using Grid to ensure only one shows at a time -->
            <Grid x:Name="IndependentButtonsOverlay"
                  HorizontalAlignment="Right"
                  VerticalAlignment="Bottom"
                  Margin="0,0,64,138"
                  Width="140">

                <!-- Skip Intro Button -->
                <Button x:Name="SkipIntroButtonOverlay"
                        Background="#BB000000"
                        BorderThickness="0"
                        Height="40"
                        HorizontalAlignment="Stretch"
                        Padding="12,8"
                        Command="{Binding SkipIntroCommand}"
                        IsTabStop="{Binding IsIntroSkipAvailable}"
                        UseSystemFocusVisuals="True"
                        Visibility="{Binding IsIntroSkipAvailable, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Loaded="SkipButton_Loaded">
                    <StackPanel Orientation="Horizontal" Spacing="4" HorizontalAlignment="Center">
                        <FontIcon Glyph="&#xE893;" FontSize="16" Foreground="White" />
                        <TextBlock Text="Skip Intro" Foreground="White" FontSize="14" />
                    </StackPanel>
                </Button>

                <!-- Skip Credits Button (for movies and episode outros) -->
                <Button x:Name="SkipOutroButtonOverlay"
                        Background="#BB000000"
                        BorderThickness="0"
                        Height="40"
                        HorizontalAlignment="Stretch"
                        Padding="12,8"
                        Command="{Binding SkipOutroCommand}"
                        IsTabStop="{Binding IsOutroSkipAvailable}"
                        UseSystemFocusVisuals="True"
                        Visibility="{Binding IsOutroSkipAvailable, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Loaded="SkipButton_Loaded">
                    <StackPanel Orientation="Horizontal" Spacing="4" HorizontalAlignment="Center">
                        <FontIcon Glyph="&#xE893;" FontSize="16" Foreground="White" />
                        <TextBlock Text="Skip Credits" Foreground="White" FontSize="14" />
                    </StackPanel>
                </Button>

                <!-- Next Episode Button (only for episodes, when near end and no credits to skip) -->
                <Button x:Name="NextEpisodeButtonOverlay"
                        Background="#BB000000"
                        BorderThickness="0"
                        Height="40"
                        HorizontalAlignment="Stretch"
                        Padding="12,8"
                        Command="{Binding PlayNextEpisodeCommand}"
                        IsTabStop="{Binding NextEpisodeButtonOverlayVisible}"
                        UseSystemFocusVisuals="True"
                        Visibility="{Binding NextEpisodeButtonOverlayVisible, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Loaded="SkipButton_Loaded">
                    <StackPanel Orientation="Horizontal" Spacing="4" HorizontalAlignment="Center">
                        <TextBlock Text="Next Episode" Foreground="White" FontSize="14" />
                        <FontIcon Glyph="&#xE76C;" FontSize="16" Foreground="White" />
                    </StackPanel>
                </Button>
            </Grid>
        </Grid>

        <!-- Stats Overlay -->
        <Border x:Name="StatsOverlay"
                Background="#E6000000"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Margin="20,20,0,0"
                Padding="10,8"
                CornerRadius="4"
                IsHitTestVisible="False"
                Visibility="{Binding IsStatsVisible, Converter={StaticResource BooleanToVisibilityConverter}}">
            <ScrollViewer MaxHeight="600" MaxWidth="400" VerticalScrollBarVisibility="Auto"
                          IsTabStop="False">
                <StackPanel Spacing="8">
                    <!-- Header -->
                    <TextBlock Text="Playback Info"
                               FontSize="11"
                               FontWeight="SemiBold"
                               Foreground="White" />

                    <!-- Playback Section -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Player" FontSize="9" Foreground="#AAAAAA" />
                        <TextBlock Grid.Row="0" Grid.Column="1"
                                   Text="{Binding CurrentStats.Player, FallbackValue='MPV Video Player'}" FontSize="9"
                                   Foreground="White" />

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Play method" FontSize="9" Foreground="#AAAAAA" />
                        <TextBlock Grid.Row="1" Grid.Column="1"
                                   Text="{Binding CurrentStats.PlayMethod, FallbackValue='Direct playing'}"
                                   FontSize="9" Foreground="White" />

                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Protocol" FontSize="9" Foreground="#AAAAAA" />
                        <TextBlock Grid.Row="2" Grid.Column="1"
                                   Text="{Binding CurrentStats.Protocol, FallbackValue='https'}" FontSize="9"
                                   Foreground="White" />

                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Stream type" FontSize="9" Foreground="#AAAAAA" />
                        <TextBlock Grid.Row="3" Grid.Column="1"
                                   Text="{Binding CurrentStats.StreamType, FallbackValue='Video'}" FontSize="9"
                                   Foreground="White" />
                    </Grid>

                    <!-- Separator -->
                    <Rectangle Height="1" Fill="#333333" Margin="0,4" />

                    <!-- Original Media Info Section -->
                    <TextBlock Text="Original Media Info"
                               FontSize="10"
                               FontWeight="SemiBold"
                               Foreground="White"
                               Margin="0,4,0,2" />

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Container" FontSize="9" Foreground="#AAAAAA" />
                        <TextBlock Grid.Row="0" Grid.Column="1"
                                   Text="{Binding CurrentStats.Container, FallbackValue='mkv'}" FontSize="9"
                                   Foreground="White" />

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Video codec" FontSize="9" Foreground="#AAAAAA" />
                        <TextBlock Grid.Row="1" Grid.Column="1"
                                   Text="{Binding CurrentStats.VideoCodec, FallbackValue='--'}" FontSize="9"
                                   Foreground="White" />

                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Video range type" FontSize="9"
                                   Foreground="#AAAAAA" />
                        <TextBlock Grid.Row="2" Grid.Column="1"
                                   Text="{Binding CurrentStats.VideoRangeType, FallbackValue='SDR'}" FontSize="9"
                                   Foreground="White" />

                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Audio codec" FontSize="9" Foreground="#AAAAAA" />
                        <TextBlock Grid.Row="3" Grid.Column="1"
                                   Text="{Binding CurrentStats.AudioCodec, FallbackValue='--'}" FontSize="9"
                                   Foreground="White" />

                        <TextBlock Grid.Row="4" Grid.Column="0" Text="Audio channels" FontSize="9" Foreground="#AAAAAA" />
                        <TextBlock Grid.Row="4" Grid.Column="1"
                                   Text="{Binding CurrentStats.AudioChannels, FallbackValue='--'}" FontSize="9"
                                   Foreground="White" />

                        <TextBlock Grid.Row="5" Grid.Column="0" Text="Audio sample rate" FontSize="9"
                                   Foreground="#AAAAAA" />
                        <TextBlock Grid.Row="5" Grid.Column="1"
                                   Text="{Binding CurrentStats.AudioSampleRate, FallbackValue='--'}" FontSize="9"
                                   Foreground="White" />
                    </Grid>
                </StackPanel>
            </ScrollViewer>
        </Border>

    </Grid>
</views:BasePage>
